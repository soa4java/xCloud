package com.xpwi.action;import com.xpwi.service.IEChartsService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import java.util.*;@Controller@RequestMapping("charts")public class EChartsAction {    @Autowired    IEChartsService eChartsServiceImpl;    @RequestMapping("/dirAnalysis.do")    @ResponseBody    public Map dirAnalysis(String user_id) {        List<Map> maps = eChartsServiceImpl.dirAnalysis(user_id);        System.out.println(maps);        List newList = new ArrayList();        Set set = new HashSet();        for (Map list : maps) {            set.add(list.get("dir_name"));        }        Iterator iterator = set.iterator();        while (iterator.hasNext()) {            Map map=new HashMap();            map.put("name",iterator.next());            List l=new ArrayList();            for (Map m: maps) {                if(map.containsValue(m.get("dir_name"))){                    Map mm=new HashMap();                    mm.put("name",m.get("name"));                    mm.put("value",0);                    l.add(mm);                }}            map.put("children",l);            newList.add(map);        }        Map map1=new HashMap();        map1.put("name","目录结构");        map1.put("children",newList);        return map1;    }}