<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <title>数据分析</title>    <link rel="stylesheet" href="design/css/layui.css">    <script type="text/javascript" src="node_modules/jquery/dist/jquery.min.js"></script>    <script type="text/javascript" src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>    <script type="text/javascript" src="node_modules/echarts/dist/echarts.min.js"></script>    <script>        //显示柱状图        function showBar() {            $.get("user/userAnalysis.do", function (data, status) {                var jsonObj = JSON.parse(data);                var mychart = echarts.init(document.getElementById("bar"));                var option = {                    title: {                        text: '统计用户状态'                    },                    tooltip: {},                    legend: {                        data: ['激活用户数量']                    },                    xAxis: {                        type: 'category',                        data: jsonObj.status                    },                    yAxis: {},                    series: [{                        name: '人数',                        type: 'bar',                        data: jsonObj.count                    }]                };                mychart.setOption(option);            });        }        // 显示树图        function showTree() {            $.get("charts/dirAnalysis.do", {"user_id": sessionStorage.getItem("user_id")}, function (data, status) {                var jsonObj = JSON.parse(data);                var mychart = echarts.init(document.getElementById("tree"));                var option = {                    tooltip: {                        trigger: 'item',                        triggerOn: 'mousemove'                    },                    series: [                        {                            type: 'tree',                            data: [jsonObj],                            top: '1%',                            left: '7%',                            bottom: '1%',                            right: '20%',                            symbolSize: 7,                            label: {                                normal: {                                    position: 'left',                                    verticalAlign: 'middle',                                    align: 'right',                                    fontSize: 9                                }                            },                            leaves: {                                label: {                                    normal: {                                        position: 'right',                                        verticalAlign: 'middle',                                        align: 'left'                                    }                                }                            },                            expandAndCollapse: true,                            animationDuration: 550,                            animationDurationUpdate: 750                        }                    ]                };                mychart.setOption(option);            });        }        //显示折线图        function showLine() {            $.get("charts/dirAnalysis.do", {"user_id": sessionStorage.getItem("user_id")}, function (data, status) {                var jsonObj = JSON.parse(data);                var mychart = echarts.init(document.getElementById("line"));                var option = {                    xAxis: {                        type: 'category',                        boundaryGap: false,                        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']                    },                    yAxis: {                        type: 'value'                    },                    series: [{                        data: [820, 932, 901, 934, 1290, 1330, 1320],                        type: 'line',                        areaStyle: {}                    }]                };                mychart.setOption(option);            });        }        //显示雷达图        function showRadar(){            $.get("charts/dirAnalysis.do", {"user_id": sessionStorage.getItem("user_id")}, function (data, status) {                var jsonObj = JSON.parse(data);                var mychart = echarts.init(document.getElementById("radar"));                var option = {                    title: {                        text: '基础雷达图'                    },                    tooltip: {},                    legend: {                        data: ['预算分配（Allocated Budget）', '实际开销（Actual Spending）']                    },                    radar: {                        // shape: 'circle',                        name: {                            textStyle: {                                color: '#fff',                                backgroundColor: '#999',                                borderRadius: 3,                                padding: [3, 5]                            }                        },                        indicator: [                            { name: '销售（sales）', max: 6500},                            { name: '管理（Administration）', max: 16000},                            { name: '信息技术（Information Techology）', max: 30000},                            { name: '客服（Customer Support）', max: 38000},                            { name: '研发（Development）', max: 52000},                            { name: '市场（Marketing）', max: 25000}                        ]                    },                    series: [{                        name: '预算 vs 开销（Budget vs spending）',                        type: 'radar',                        // areaStyle: {normal: {}},                        data : [                            {                                value : [4300, 10000, 28000, 35000, 50000, 19000],                                name : '预算分配（Allocated Budget）'                            },                            {                                value : [5000, 14000, 28000, 31000, 42000, 21000],                                name : '实际开销（Actual Spending）'                            }                        ]                    }]                };                mychart.setOption(option);            });        }        //显示表盘        function showGauge(){            $.get("charts/dirAnalysis.do", {"user_id": sessionStorage.getItem("user_id")}, function (data, status) {                var jsonObj = JSON.parse(data);                var mychart = echarts.init(document.getElementById("gauge"));                var option = {                    tooltip : {                        formatter: "{a} <br/>{c} {b}"                    },                    toolbox: {                        show: true,                        feature: {                            restore: {show: true},                            saveAsImage: {show: true}                        }                    },                    series : [                        {                            name: '速度',                            type: 'gauge',                            z: 3,                            min: 0,                            max: 220,                            splitNumber: 11,                            radius: '50%',                            axisLine: {            // 坐标轴线                                lineStyle: {       // 属性lineStyle控制线条样式                                    width: 10                                }                            },                            axisTick: {            // 坐标轴小标记                                length: 15,        // 属性length控制线长                                lineStyle: {       // 属性lineStyle控制线条样式                                    color: 'auto'                                }                            },                            splitLine: {           // 分隔线                                length: 20,         // 属性length控制线长                                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式                                    color: 'auto'                                }                            },                            axisLabel: {                                backgroundColor: 'auto',                                borderRadius: 2,                                color: '#eee',                                padding: 3,                                textShadowBlur: 2,                                textShadowOffsetX: 1,                                textShadowOffsetY: 1,                                textShadowColor: '#222'                            },                            title : {                                // 其余属性默认使用全局文本样式，详见TEXTSTYLE                                fontWeight: 'bolder',                                fontSize: 20,                                fontStyle: 'italic'                            },                            detail : {                                // 其余属性默认使用全局文本样式，详见TEXTSTYLE                                formatter: function (value) {                                    value = (value + '').split('.');                                    value.length < 2 && (value.push('00'));                                    return ('00' + value[0]).slice(-2)                                        + '.' + (value[1] + '00').slice(0, 2);                                },                                fontWeight: 'bolder',                                borderRadius: 3,                                backgroundColor: '#444',                                borderColor: '#aaa',                                shadowBlur: 5,                                shadowColor: '#333',                                shadowOffsetX: 0,                                shadowOffsetY: 3,                                borderWidth: 2,                                textBorderColor: '#000',                                textBorderWidth: 2,                                textShadowBlur: 2,                                textShadowColor: '#fff',                                textShadowOffsetX: 0,                                textShadowOffsetY: 0,                                fontFamily: 'Arial',                                width: 100,                                color: '#eee',                                rich: {}                            },                            data:[{value: 40, name: 'km/h'}]                        },                        {                            name: '转速',                            type: 'gauge',                            center: ['20%', '55%'],    // 默认全局居中                            radius: '35%',                            min:0,                            max:7,                            endAngle:45,                            splitNumber:7,                            axisLine: {            // 坐标轴线                                lineStyle: {       // 属性lineStyle控制线条样式                                    width: 8                                }                            },                            axisTick: {            // 坐标轴小标记                                length:12,        // 属性length控制线长                                lineStyle: {       // 属性lineStyle控制线条样式                                    color: 'auto'                                }                            },                            splitLine: {           // 分隔线                                length:20,         // 属性length控制线长                                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式                                    color: 'auto'                                }                            },                            pointer: {                                width:5                            },                            title: {                                offsetCenter: [0, '-30%'],       // x, y，单位px                            },                            detail: {                                // 其余属性默认使用全局文本样式，详见TEXTSTYLE                                fontWeight: 'bolder'                            },                            data:[{value: 1.5, name: 'x1000 r/min'}]                        },                        {                            name: '油表',                            type: 'gauge',                            center: ['77%', '50%'],    // 默认全局居中                            radius: '25%',                            min: 0,                            max: 2,                            startAngle: 135,                            endAngle: 45,                            splitNumber: 2,                            axisLine: {            // 坐标轴线                                lineStyle: {       // 属性lineStyle控制线条样式                                    width: 8                                }                            },                            axisTick: {            // 坐标轴小标记                                splitNumber: 5,                                length: 10,        // 属性length控制线长                                lineStyle: {        // 属性lineStyle控制线条样式                                    color: 'auto'                                }                            },                            axisLabel: {                                formatter:function(v){                                    switch (v + '') {                                        case '0' : return 'E';                                        case '1' : return 'Gas';                                        case '2' : return 'F';                                    }                                }                            },                            splitLine: {           // 分隔线                                length: 15,         // 属性length控制线长                                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式                                    color: 'auto'                                }                            },                            pointer: {                                width:2                            },                            title : {                                show: false                            },                            detail : {                                show: false                            },                            data:[{value: 0.5, name: 'gas'}]                        },                        {                            name: '水表',                            type: 'gauge',                            center : ['77%', '50%'],    // 默认全局居中                            radius : '25%',                            min: 0,                            max: 2,                            startAngle: 315,                            endAngle: 225,                            splitNumber: 2,                            axisLine: {            // 坐标轴线                                lineStyle: {       // 属性lineStyle控制线条样式                                    width: 8                                }                            },                            axisTick: {            // 坐标轴小标记                                show: false                            },                            axisLabel: {                                formatter:function(v){                                    switch (v + '') {                                        case '0' : return 'H';                                        case '1' : return 'Water';                                        case '2' : return 'C';                                    }                                }                            },                            splitLine: {           // 分隔线                                length: 15,         // 属性length控制线长                                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式                                    color: 'auto'                                }                            },                            pointer: {                                width:2                            },                            title: {                                show: false                            },                            detail: {                                show: false                            },                            data:[{value: 0.5, name: 'gas'}]                        }                    ]                };                setInterval(function (){                    option.series[0].data[0].value = (Math.random()*100).toFixed(2) - 0;                    option.series[1].data[0].value = (Math.random()*7).toFixed(2) - 0;                    option.series[2].data[0].value = (Math.random()*2).toFixed(2) - 0;                    option.series[3].data[0].value = (Math.random()*2).toFixed(2) - 0;                    myChart.setOption(option,true);                },2000);                mychart.setOption(option);            });        }        //默认执行        $(function () {            showBar();        });    </script></head><body><blockquote class="layui-elem-quote layui-quote-nm">    统计图表</blockquote><div class="layui-tab layui-tab-card" style="width: 100%">    <ul class="layui-tab-title">        <li onclick="showBar()" class="layui-this">柱状图</li>        <li onclick="showTree()">目录树图</li>        <li onclick="showLine()">折线图</li>        <li onclick="showRadar()">雷达图</li>        <li onclick="showGauge()">实时表盘图</li>    </ul>    <div class="layui-tab-content">        <div class="layui-tab-item layui-show">            <div id="bar" style="width: 100%;height: 480px">            </div>        </div>        <div class="layui-tab-item layui-show">            <div id="tree" style="width: 100%;height: 480px">            </div>        </div>        <div class="layui-tab-item layui-show">            <div id="line" style="width: 100%;height: 480px">            </div>        </div>        <div class="layui-tab-item layui-show">            <div id="radar" style="width: 100%;height: 480px">            </div>        </div>        <div class="layui-tab-item">            <div id="gauge" style="width: 100%;height: 480px">            </div>        </div>    </div></div></body></html>